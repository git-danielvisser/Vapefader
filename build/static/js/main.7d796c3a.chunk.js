(this.webpackJsonpvapefade=this.webpackJsonpvapefade||[]).push([[0],{157:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(12),s=a.n(i),l=(a(156),a(157),a(21));function j(){return new Worker(a.p+"static/js/generateSchema.worker.9eedee5a.worker.js")}function o(e,t){return e/100*t}var d=a(286),b=a(306),h=a(34),u=Object(d.a)({brand:{color:"#fff",fontFamily:"'Sarabun', sans-serif",fontSize:"2.4rem",letterSpacing:"unset",marginBottom:"30px"},tagline:{color:"#fff",fontSize:"1rem"}});var x=function(e){var t=e.brand,a=e.tagline,r=u();return Object(n.jsxs)(b.a,{align:"center",children:[Object(n.jsx)(h.a,{variant:"h1",className:r.brand,children:t}),a&&Object(n.jsx)(h.a,{variant:"h2",className:r.tagline,children:a})]})},m=a(261),O=a(289),g=a(310),p=a(290),v=a(291),f=a(292);function y(e){var t=e.strength,a=e.percent,r=e.ml;return Object(n.jsx)(m.a,{children:Object(n.jsx)(b.a,{p:1,children:Object(n.jsxs)(O.a,{container:!0,spacing:1,alignItems:"baseline",children:[Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(g.a,{label:"".concat(t," mg/ml"),icon:Object(n.jsx)(p.a,{}),size:"small",color:"primary"})}),Object(n.jsx)(O.a,{item:!0,xs:!0,children:Object(n.jsx)(g.a,{label:"".concat(a,"%"),icon:100===a?Object(n.jsx)(v.a,{}):Object(n.jsx)(f.a,{}),size:"small",variant:"outlined"})}),Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(h.a,{variant:"body2",children:"".concat(r,"ml")})})]})})})}function S(e){var t=e.bottleML,a=e.strength,r=e.liquids;return Object(n.jsxs)(O.a,{container:!0,alignItems:"center",justify:"center",children:[Object(n.jsx)(O.a,{item:!0,xs:12,md:!0,children:Object(n.jsx)(y,{strength:r[0].strength,percent:r[0].percent,ml:o(t,r[0].percent).toFixed(1)})}),Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(b.a,{px:2,py:1,children:Object(n.jsx)(h.a,{align:"center",children:"+"})})}),Object(n.jsx)(O.a,{item:!0,xs:12,md:!0,children:Object(n.jsx)(y,{strength:r[1].strength,percent:r[1].percent,ml:o(t,r[1].percent).toFixed(1)})}),Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(b.a,{px:2,py:1,children:Object(n.jsx)(h.a,{align:"center",children:"="})})}),Object(n.jsx)(O.a,{item:!0,xs:12,md:!0,children:Object(n.jsx)(y,{strength:a.toFixed(2),percent:100,ml:t.toFixed(1)})})]})}var q=a(305),I=a(293),w=Object(d.a)({gridBox:{background:"#eee"}});function C(e){var t=w(),a=Object(r.useState)(10),i=Object(l.a)(a,2),s=i[0],j=i[1];return Object(n.jsxs)(b.a,{children:[Object(n.jsx)(b.a,{p:3,children:Object(n.jsx)(q.a,{label:"ML per bottle",type:"number",inputProps:{min:0,max:100,step:1},value:s,onChange:function(e){var t=e.target.value;t.length<5&&j(t)},variant:"outlined",fullWidth:!0})}),Object(n.jsx)(b.a,{py:3,className:t.gridBox,children:Object(n.jsx)(O.a,{container:!0,spacing:3,children:e.liquidMixes.map((function(e,t){var a=e.strength,r=e.liquids;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{px:3,children:Object(n.jsx)(S,{bottleML:Number(s),strength:a,liquids:r})})}),Object(n.jsx)(O.a,{item:!0,xs:12,md:!0,children:Object(n.jsx)(I.a,{})})]},function(e){return"".concat(e[0].strength,"-").concat(e[1].strength)}(r))}))})})]})}var M=a(294),k=a(309),T=a(295),F=a(296),D=Object(d.a)({dialogContent:{padding:"0px",overflowX:"hidden",overflowY:"auto"}});function L(e){var t=e.strength,a=e.liquidMixes,c=Object(r.useState)(!1),i=Object(l.a)(c,2),s=i[0],j=i[1],o=D();return Object(n.jsx)(b.a,{children:Object(n.jsxs)(O.a,{container:!0,spacing:2,children:[Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsxs)(h.a,{component:"p",variant:"body2",children:["Mix your own liquids to ",t,"mg/ml."]})}),Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(h.a,{component:"h5",children:Object(n.jsx)(M.a,{onClick:function(){j(!0)},variant:"outlined",color:"primary",endIcon:Object(n.jsx)(p.a,{}),children:"Liquid mixes"})}),Object(n.jsxs)(k.a,{maxWidth:"md",open:s,onClose:function(){j(!1)},children:[Object(n.jsx)(T.a,{children:"Liquid mixes"}),Object(n.jsx)(I.a,{}),Object(n.jsx)(F.a,{className:o.dialogContent,children:Object(n.jsx)(C,{liquidMixes:a})})]})]})})]})})}var N=a(297),P=a(298),W=a(299),z=a(300),B=Object(d.a)({schemaItem:{height:"100%"}});function V(e){var t=e.date,a=e.strength,r=e.sessions,i=e.message,s=e.liquidMixes,l=B(),j=t.toLocaleString("default",{day:"numeric",month:"long"}),o=t.toLocaleString("default",{weekday:"long"});return Object(n.jsxs)(N.a,{align:"center",className:l.schemaItem,children:[Object(n.jsx)(P.a,{title:j,subheader:o}),Object(n.jsx)(I.a,{}),Object(n.jsx)(W.a,{children:Object(n.jsx)(b.a,{p:1,children:Object(n.jsxs)(O.a,{container:!0,spacing:3,children:[Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[void 0!==r&&Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(g.a,{label:"".concat(r," sessions"),icon:Object(n.jsx)(z.a,{}),color:0!==r?"secondary":"default"})}),void 0!==a&&Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(g.a,{label:"".concat(a," mg/ml"),icon:Object(n.jsx)(p.a,{}),color:0!==a?"primary":"default"})})]})}),void 0!==i&&Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{component:"p",children:i})})]})})}),s&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(I.a,{}),Object(n.jsx)(b.a,{p:3,children:Object(n.jsx)(L,{strength:a,liquidMixes:s})})]})]})}function R(e){return Object(n.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(b.a,{flexGrow:1,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(b.a,{px:2,children:e.children}),Object(n.jsx)(b.a,{flexGrow:1,children:Object(n.jsx)(I.a,{})})]})}function E(e){return Object(n.jsxs)(O.a,{container:!0,children:[Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{mb:5,children:Object(n.jsx)(h.a,{align:"center",variant:"h5",component:"h2",children:"Your quitting schema!"})})}),Object(n.jsx)(O.a,{item:!0,xs:12,children:Y(e.schemaItems)})]})}function Y(e){if(Array.isArray(e)&&!(e.length<1)){var t=[],a=null;return e.forEach((function(e,r){var c=e.date,i=e.strength,s=e.sessions,l=e.message,j=e.liquidMixes;if(!a||c.getMonth()>a.getMonth()||c.getFullYear()>a.getFullYear()){var o=c.toLocaleString("default",{month:"long",year:"numeric"});t.push(Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{mt:2,mb:2,children:Object(n.jsx)(R,{children:Object(n.jsx)(h.a,{variant:"body2",component:"h5",children:o})})})},"divider-".concat(c.getTime())))}a=c,t.push(Object(n.jsx)(O.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(V,{date:c,strength:i,sessions:s,message:l,liquidMixes:j||!1})},"item-".concat(c.getTime())))})),Object(n.jsx)(O.a,{container:!0,spacing:2,alignItems:"stretch",children:t})}}var A=a(129),G=a(44),J=a(130),H=a(312),K=a(16),X=a(304),Q=a(308),U=a(302);function Z(e){var t=e.helperText,a=e.id,r=e.name,c=e.label,i=e.placeholder,s=e.value,l=e.error,j=e.options,o=e.onChange,d=e.variant;return Object(n.jsx)(q.a,{select:!0,SelectProps:{multiple:!0,renderValue:function(e){return e.join(", ")}},id:a,name:r,label:c,placeholder:i,value:s,error:l,helperText:t,onChange:function(e){var t=[];j.forEach((function(a){e.target.value.includes(a.value)&&t.push(a.value)})),e.target.value=t,o(e)},variant:d,fullWidth:!0,children:j.map((function(e){return Object(n.jsxs)(H.a,{alignItems:"center",value:e.value,children:[Object(n.jsx)(Q.a,{checked:s.indexOf(e.value)>-1}),Object(n.jsx)(U.a,{primary:e.label})]},e.value)}))})}var $="The schema reduces the nicotine content of your liquid in these steps.",_="The schema reduces nicotine content  of your liquid every x days.",ee="The schema reduces smoking sessions every x days.",te="This field is required",ae="Please enter a number.",ne=function(e,t){return"".concat(e," must be be more than or equal to ").concat(t,".")},re=function(e,t){return"".concat(e," must be be less than or equal to ").concat(t,".")},ce="Please enter a valid date.",ie="Please select atleast 2 nicotine mg/ml steps.",se=[{label:"Vaping",value:"vaporizer"},{label:"Smoking",value:"cigarette"}],le=Array(25).fill().map((function(e,t){return{label:t+" mg/ml",value:t}})).reverse();function je(e){var t=Object(A.a)({initialValues:{device:se[0].value,startDate:new Date,sessions:20,strengths:[12,11,10,9,8,7,6,5,4,3,2,1,0],decreaseInterval:7},validationSchema:G.e({device:G.c().oneOf([se[0].value,se[1].value]),startDate:G.b().typeError(ce).required(te),sessions:G.d().typeError(ae).required(te).min(2,ne("Daily sessions",2)).max(100,re("Daily sessions",100)),strengths:G.a().of(G.d().min(0).max(24)).min(2,ie),decreaseInterval:G.d().required(te).min(1,ne("Reduce every x days",1)).max(100,re("Reduce every x days",100))}),onSubmit:function(t){e.onSubmit(t)}}),a=t.values,r=t.errors,c=t.handleChange,i="vaporizer"===a.device;return Object(n.jsx)("form",{className:"schema-form",onSubmit:t.handleSubmit,children:Object(n.jsxs)(O.a,{container:!0,spacing:5,justify:"center",children:[Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(q.a,{select:!0,id:"device",name:"device",value:a.device,error:r.device,onChange:c,label:"I want to quit",variant:"outlined",fullWidth:!0,children:se.map((function(e){return Object(n.jsx)(H.a,{value:e.value,children:e.label},e.value)}))})}),Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(K.a,{utils:J.a,children:Object(n.jsx)(X.a,{id:"startDate",name:"startDate",value:a.startDate,error:r.startDate,onChange:function(e){return t.setFieldValue("startDate",e)},label:"Start date",helperText:r.startDate,format:"dd/MM/yyyy",KeyboardButtonProps:{"aria-label":"change date"},variant:"inline",inputVariant:"outlined",disableToolbar:!0,fullWidth:!0})})}),Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(q.a,{type:"number",id:"sessions",name:"sessions",value:a.sessions,error:r.sessions,onChange:c,inputProps:{min:0,max:100,step:1},label:(i?"Vape":"Smoke")+" sessions a day",helperText:r.sessions,placeholder:"20 sessions",variant:"outlined",fullWidth:!0})}),i&&Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(Z,{id:"strengths",name:"strengths",value:a.strengths,error:r.strengths,onChange:c,options:le,label:"Nicotine mg/ml steps",helperText:r.strengths||$,placeholder:"12, 10, 8 , 7, 3, 0",variant:"outlined"})}),Object(n.jsx)(O.a,{item:!0,xs:12,children:Object(n.jsx)(q.a,{type:"number",id:"decreaseInterval",name:"decreaseInterval",value:a.decreaseInterval,error:r.decreaseInterval,onChange:c,inputProps:{min:0,max:100,step:1},label:"Reduce every x days",helperText:r.decreaseInterval||i?_:ee,placeholder:"7",variant:"outlined",fullWidth:!0})}),Object(n.jsx)(O.a,{item:!0,children:Object(n.jsx)(M.a,{type:"submit",size:"large",variant:"contained",color:"primary",disabled:e.isLoading,children:"Generate schema!"})})]})})}var oe=a(303),de=Object(d.a)({formSlide:{background:"linear-gradient(166deg, rgba(245,0,87,1) 10%, rgba(63,81,181,1) 90%)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",boxSizing:"border-box",minHeight:"100vh"}});var be=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],h=de(),u=Object(r.useRef)(null);return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(b.a,{className:h.formSlide,children:Object(n.jsxs)(oe.a,{maxWidth:"sm",children:[Object(n.jsx)("header",{className:"header",children:Object(n.jsx)(b.a,{p:5,children:Object(n.jsx)(x,{brand:"Vapefader",tagline:"Gradually quit vaping or smoking  with a generated schema."})})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(b.a,{p:5,children:Object(n.jsx)(je,{onSubmit:function(e){d(!0);var t=new j;t.postMessage(e),t.onmessage=function(e){c(e.data),d(!1),function(e,t){var a=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:a,behavior:"smooth"})}(u.current,-40)}},isLoading:o})})})})]})}),a&&Object(n.jsx)(b.a,{p:2,mt:5,children:Object(n.jsx)(oe.a,{ref:u,maxWidth:"md",children:Object(n.jsx)(E,{schemaItems:a})})})]})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,315)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(be,{})}),document.getElementById("root")),he()}},[[259,1,2]]]);
//# sourceMappingURL=main.7d796c3a.chunk.js.map